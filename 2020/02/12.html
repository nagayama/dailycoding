<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/p5/lib/p5.min.js"></script>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="/assets/style.css" />
</head>

<body>
  <script>
    let W = 800
    let images = []

    function preload() {
      images.push(loadImage('/assets/kakuteishinkoku/1.svg'))
      images.push(loadImage('/assets/kakuteishinkoku/2.svg'))
      images.push(loadImage('/assets/kakuteishinkoku/3.svg'))
      images.push(loadImage('/assets/kakuteishinkoku/4.svg'))
    }

    function setup() {
      createCanvas(W, W);
    }

    function draw() {
        randomSeed(0)
      background(255);
      divide(0, 0, width, height, 5)
    }

    function divide(x, y, w, h, depth) {
      if (depth > 0) {
        const n = noise(w / width * 2, w / height * 2, frameCount / 800 * depth)
        if (depth-- % 2 === 1) {
          divide(x, y, w * n, h, depth)
          divide(x + w * n, y, w - w * n, h, depth)
        } else {
          divide(x, y, w, h * n, depth)
          divide(x, y + h * n, w, h - h * n, depth)
        }
      } else {
        image(random(images), x, y, w, h, 0, 0)
      }

    }


    /*
          for (let i = 0; i < images.length; i++) {
            const img = images[i];
            image(img, size*i,0, size,size)

          }
          */


  </script>
</body>

</html>
